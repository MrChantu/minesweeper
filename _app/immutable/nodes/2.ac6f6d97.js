var ae=Object.defineProperty;var ce=(r,e,n)=>e in r?ae(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var O=(r,e,n)=>(ce(r,typeof e!="symbol"?e+"":e,n),n);import{s as j,c as U,f as k,u as G,g as M,d as q,h as X,i as C,n as v,r as fe}from"../chunks/scheduler.92fb626a.js";import{S as F,i as I,y as ne,e as z,z as oe,j as N,f as h,A as S,a as p,x as H,d as b,t as g,B as J,r as D,u as V,v as T,w as y,g as B,h as E,k as w,b as K,p as L,s as ue,c as he,C as R,D as se,m as de,n as _e,o as me}from"../chunks/index.3fe83332.js";function W(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function A(r,e){const n={},l={},t={$$scope:1};let o=r.length;for(;o--;){const s=r[o],i=e[o];if(i){for(const a in s)a in i||(l[a]=1);for(const a in i)t[a]||(n[a]=i[a],t[a]=1);r[o]=i}else for(const a in s)t[a]=1}for(const s in l)s in n||(n[s]=void 0);return n}function re(r){return typeof r=="object"&&r!==null?r:{}}const be=[[0,1],[1,0],[1,1],[0,-1],[-1,0],[-1,-1],[1,-1],[-1,1]];class ge{constructor(){O(this,"size");O(this,"board");this.size=10,this.board=this.generateEmptyBoard()}generateEmptyBoard(){const e=[];for(let n=0;n<10;n++){const l=[];for(let t=0;t<10;t++)l.push({pos:[n,t]});e.push(l)}return e}getNeighbors(e){const[n,l]=e,t=[];for(const o of be){const[s,i]=o,a=[n+s,l+i];a[0]>=0&&a[0]<this.size&&a[1]>=0&&a[1]<this.size&&t.push([n+s,l+i])}return t}generateFullBoard(e){this.generateBombs(e),this.generateNumbers(),this.reveal(e)}generateBombs(e){const[n,l]=e,t=[];for(let o=0;o<this.size;o++){const s=[];for(let i=0;i<this.size;i++)if(o===n&&i===l)s.push({pos:[o,i],bomb:!1,flag:!1,revealed:!1,number:0});else{const a=Math.random();s.push({pos:[o,i],bomb:a<=.2,flag:!1,revealed:!1,number:0})}t.push(s)}this.board=t}generateNumbers(){for(let e=0;e<this.size;e++)for(let n=0;n<this.size;n++)if(this.board[e][n].bomb===!1){const l=this.getNeighbors([e,n]);for(const t of l){const[o,s]=t;this.board[o][s].bomb===!0&&(this.board[e][n].number+=1)}}}placeFlag(e){const[n,l]=e;this.board[n][l].revealed===!1&&(this.board[n][l].flag=!this.board[n][l].flag)}reveal(e,n=0){const[l,t]=e;if(this.board[l][t].revealed===!1&&this.board[l][t].number>0){this.board[l][t].revealed=!0;return}else if(this.board[l][t].revealed===!1&&this.board[l][t].number===0&&this.board[l][t].revealed===!1&&this.board[l][t].bomb===!1){this.board[l][t].revealed=!0;const o=this.getNeighbors([l,t]);for(const s of o){const[i,a]=s;this.reveal([i,a],n+1)}}else return this.board[l][t].revealed=!0,"bomb"}isSweeped(){for(let e=0;e<this.size;e++)for(let n=0;n<this.size;n++)if(this.board[e][n].bomb===!1&&this.board[e][n].revealed===!1)return!1;return!0}}const Y={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Z(r,e,n){const l=r.slice();return l[10]=e[n][0],l[11]=e[n][1],l}function P(r){let e,n=[r[11]],l={};for(let t=0;t<n.length;t+=1)l=k(l,n[t]);return{c(){e=ne(r[10]),this.h()},l(t){e=oe(t,r[10],{}),N(e).forEach(h),this.h()},h(){S(e,l)},m(t,o){p(t,e,o)},p(t,o){S(e,l=A(n,[o&32&&t[11]]))},d(t){t&&h(e)}}}function $(r){let e=r[10],n,l=r[10]&&P(r);return{c(){l&&l.c(),n=z()},l(t){l&&l.l(t),n=z()},m(t,o){l&&l.m(t,o),p(t,n,o)},p(t,o){t[10]?e?j(e,t[10])?(l.d(1),l=P(t),e=t[10],l.c(),l.m(n.parentNode,n)):l.p(t,o):(l=P(t),e=t[10],l.c(),l.m(n.parentNode,n)):e&&(l.d(1),l=null,e=t[10])},d(t){t&&h(n),l&&l.d(t)}}}function pe(r){let e,n,l,t,o,s=W(r[5]),i=[];for(let c=0;c<s.length;c+=1)i[c]=$(Z(r,s,c));const a=r[9].default,f=U(a,r,r[8],null);let _=[Y,r[6],{width:r[2]},{height:r[2]},{stroke:r[1]},{"stroke-width":l=r[4]?Number(r[3])*24/Number(r[2]):r[3]},{class:t=`lucide-icon lucide lucide-${r[0]} ${r[7].class??""}`}],m={};for(let c=0;c<_.length;c+=1)m=k(m,_[c]);return{c(){e=ne("svg");for(let c=0;c<i.length;c+=1)i[c].c();n=z(),f&&f.c(),this.h()},l(c){e=oe(c,"svg",{width:!0,height:!0,stroke:!0,"stroke-width":!0,class:!0});var u=N(e);for(let d=0;d<i.length;d+=1)i[d].l(u);n=z(),f&&f.l(u),u.forEach(h),this.h()},h(){S(e,m)},m(c,u){p(c,e,u);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(e,null);H(e,n),f&&f.m(e,null),o=!0},p(c,[u]){if(u&32){s=W(c[5]);let d;for(d=0;d<s.length;d+=1){const Q=Z(c,s,d);i[d]?i[d].p(Q,u):(i[d]=$(Q),i[d].c(),i[d].m(e,n))}for(;d<i.length;d+=1)i[d].d(1);i.length=s.length}f&&f.p&&(!o||u&256)&&G(f,a,c,c[8],o?q(a,c[8],u,null):M(c[8]),null),S(e,m=A(_,[Y,u&64&&c[6],(!o||u&4)&&{width:c[2]},(!o||u&4)&&{height:c[2]},(!o||u&2)&&{stroke:c[1]},(!o||u&28&&l!==(l=c[4]?Number(c[3])*24/Number(c[2]):c[3]))&&{"stroke-width":l},(!o||u&129&&t!==(t=`lucide-icon lucide lucide-${c[0]} ${c[7].class??""}`))&&{class:t}]))},i(c){o||(b(f,c),o=!0)},o(c){g(f,c),o=!1},d(c){c&&h(e),J(i,c),f&&f.d(c)}}}function ve(r,e,n){const l=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let t=X(e,l),{$$slots:o={},$$scope:s}=e,{name:i}=e,{color:a="currentColor"}=e,{size:f=24}=e,{strokeWidth:_=2}=e,{absoluteStrokeWidth:m=!1}=e,{iconNode:c}=e;return r.$$set=u=>{n(7,e=k(k({},e),C(u))),n(6,t=X(e,l)),"name"in u&&n(0,i=u.name),"color"in u&&n(1,a=u.color),"size"in u&&n(2,f=u.size),"strokeWidth"in u&&n(3,_=u.strokeWidth),"absoluteStrokeWidth"in u&&n(4,m=u.absoluteStrokeWidth),"iconNode"in u&&n(5,c=u.iconNode),"$$scope"in u&&n(8,s=u.$$scope)},e=C(e),[i,a,f,_,m,c,t,e,s,o]}class ke extends F{constructor(e){super(),I(this,e,ve,pe,j,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}const ie=ke;function Ne(r){let e;const n=r[2].default,l=U(n,r,r[3],null);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,o){l&&l.m(t,o),e=!0},p(t,o){l&&l.p&&(!e||o&8)&&G(l,n,t,t[3],e?q(n,t[3],o,null):M(t[3]),null)},i(t){e||(b(l,t),e=!0)},o(t){g(l,t),e=!1},d(t){l&&l.d(t)}}}function we(r){let e,n;const l=[{name:"bomb"},r[1],{iconNode:r[0]}];let t={$$slots:{default:[Ne]},$$scope:{ctx:r}};for(let o=0;o<l.length;o+=1)t=k(t,l[o]);return e=new ie({props:t}),{c(){D(e.$$.fragment)},l(o){V(e.$$.fragment,o)},m(o,s){T(e,o,s),n=!0},p(o,[s]){const i=s&3?A(l,[l[0],s&2&&re(o[1]),s&1&&{iconNode:o[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){y(e,o)}}}function ze(r,e,n){let{$$slots:l={},$$scope:t}=e;const o=[["circle",{cx:"11",cy:"13",r:"9"}],["path",{d:"m19.5 9.5 1.8-1.8a2.4 2.4 0 0 0 0-3.4l-1.6-1.6a2.41 2.41 0 0 0-3.4 0l-1.8 1.8"}],["path",{d:"m22 2-1.5 1.5"}]];return r.$$set=s=>{n(1,e=k(k({},e),C(s))),"$$scope"in s&&n(3,t=s.$$scope)},e=C(e),[o,e,l,t]}class Be extends F{constructor(e){super(),I(this,e,ze,we,j,{})}}const Ee=Be;function Ce(r){let e;const n=r[2].default,l=U(n,r,r[3],null);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,o){l&&l.m(t,o),e=!0},p(t,o){l&&l.p&&(!e||o&8)&&G(l,n,t,t[3],e?q(n,t[3],o,null):M(t[3]),null)},i(t){e||(b(l,t),e=!0)},o(t){g(l,t),e=!1},d(t){l&&l.d(t)}}}function We(r){let e,n;const l=[{name:"flag"},r[1],{iconNode:r[0]}];let t={$$slots:{default:[Ce]},$$scope:{ctx:r}};for(let o=0;o<l.length;o+=1)t=k(t,l[o]);return e=new ie({props:t}),{c(){D(e.$$.fragment)},l(o){V(e.$$.fragment,o)},m(o,s){T(e,o,s),n=!0},p(o,[s]){const i=s&3?A(l,[l[0],s&2&&re(o[1]),s&1&&{iconNode:o[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){y(e,o)}}}function je(r,e,n){let{$$slots:l={},$$scope:t}=e;const o=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15"}]];return r.$$set=s=>{n(1,e=k(k({},e),C(s))),"$$scope"in s&&n(3,t=s.$$scope)},e=C(e),[o,e,l,t]}class Se extends F{constructor(e){super(),I(this,e,je,We,j,{})}}const Re=Se;function x(r,e,n){const l=r.slice();return l[9]=e[n],l}function ee(r,e,n){const l=r.slice();return l[9]=e[n],l}function Fe(r){let e,n,l=W(r[1].board.flat()),t=[];for(let s=0;s<l.length;s+=1)t[s]=te(x(r,l,s));const o=s=>g(t[s],1,1,()=>{t[s]=null});return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=z()},l(s){for(let i=0;i<t.length;i+=1)t[i].l(s);e=z()},m(s,i){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(s,i);p(s,e,i),n=!0},p(s,i){if(i&26){l=W(s[1].board.flat());let a;for(a=0;a<l.length;a+=1){const f=x(s,l,a);t[a]?(t[a].p(f,i),b(t[a],1)):(t[a]=te(f),t[a].c(),b(t[a],1),t[a].m(e.parentNode,e))}for(L(),a=l.length;a<t.length;a+=1)o(a);K()}},i(s){if(!n){for(let i=0;i<l.length;i+=1)b(t[i]);n=!0}},o(s){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)g(t[i]);n=!1},d(s){s&&h(e),J(t,s)}}}function Ie(r){let e,n=W(r[1].board.flat()),l=[];for(let t=0;t<n.length;t+=1)l[t]=le(ee(r,n,t));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=z()},l(t){for(let o=0;o<l.length;o+=1)l[o].l(t);e=z()},m(t,o){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(t,o);p(t,e,o)},p(t,o){if(o&6){n=W(t[1].board.flat());let s;for(s=0;s<n.length;s+=1){const i=ee(t,n,s);l[s]?l[s].p(i,o):(l[s]=le(i),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=n.length}},i:v,o:v,d(t){t&&h(e),J(l,t)}}}function De(r){let e,n,l;function t(){return r[7](r[9])}function o(){return r[8](r[9])}return{c(){e=B("button"),this.h()},l(s){e=E(s,"BUTTON",{type:!0,class:!0}),N(e).forEach(h),this.h()},h(){w(e,"type","button"),w(e,"class","cell btn-icon variant-filled")},m(s,i){p(s,e,i),n||(l=[R(e,"contextmenu",se(t)),R(e,"click",o)],n=!0)},p(s,i){r=s},i:v,o:v,d(s){s&&h(e),n=!1,fe(l)}}}function Ve(r){let e,n,l,t,o;n=new Re({props:{fill:"white"}});function s(){return r[6](r[9])}return{c(){e=B("button"),D(n.$$.fragment),this.h()},l(i){e=E(i,"BUTTON",{class:!0});var a=N(e);V(n.$$.fragment,a),a.forEach(h),this.h()},h(){w(e,"class","cell")},m(i,a){p(i,e,a),T(n,e,null),l=!0,t||(o=R(e,"contextmenu",se(s)),t=!0)},p(i,a){r=i},i(i){l||(b(n.$$.fragment,i),l=!0)},o(i){g(n.$$.fragment,i),l=!1},d(i){i&&h(e),y(n),t=!1,o()}}}function Te(r){let e;return{c(){e=B("div"),this.h()},l(n){e=E(n,"DIV",{class:!0}),N(e).forEach(h),this.h()},h(){w(e,"class","cell")},m(n,l){p(n,e,l)},p:v,i:v,o:v,d(n){n&&h(e)}}}function ye(r){let e,n=r[9].number+"",l;return{c(){e=B("div"),l=de(n),this.h()},l(t){e=E(t,"DIV",{class:!0});var o=N(e);l=_e(o,n),o.forEach(h),this.h()},h(){w(e,"class","cell")},m(t,o){p(t,e,o),H(e,l)},p(t,o){o&2&&n!==(n=t[9].number+"")&&me(l,n)},i:v,o:v,d(t){t&&h(e)}}}function Ae(r){let e,n,l;return n=new Ee({props:{fill:"white"}}),{c(){e=B("div"),D(n.$$.fragment),this.h()},l(t){e=E(t,"DIV",{class:!0});var o=N(e);V(n.$$.fragment,o),o.forEach(h),this.h()},h(){w(e,"class","cell")},m(t,o){p(t,e,o),T(n,e,null),l=!0},p:v,i(t){l||(b(n.$$.fragment,t),l=!0)},o(t){g(n.$$.fragment,t),l=!1},d(t){t&&h(e),y(n)}}}function te(r){let e,n,l,t;const o=[Ae,ye,Te,Ve,De],s=[];function i(a,f){return a[9].revealed===!0&&a[9].bomb===!0?0:a[9].revealed===!0&&a[9].number>0?1:a[9].revealed===!0&&a[9].bomb===!1&&a[9].number===0?2:a[9].flag===!0?3:4}return e=i(r),n=s[e]=o[e](r),{c(){n.c(),l=ue()},l(a){n.l(a),l=he(a)},m(a,f){s[e].m(a,f),p(a,l,f),t=!0},p(a,f){let _=e;e=i(a),e===_?s[e].p(a,f):(L(),g(s[_],1,1,()=>{s[_]=null}),K(),n=s[e],n?n.p(a,f):(n=s[e]=o[e](a),n.c()),b(n,1),n.m(l.parentNode,l))},i(a){t||(b(n),t=!0)},o(a){g(n),t=!1},d(a){a&&h(l),s[e].d(a)}}}function le(r){let e,n,l;function t(){return r[5](r[9])}return{c(){e=B("button"),this.h()},l(o){e=E(o,"BUTTON",{class:!0}),N(e).forEach(h),this.h()},h(){w(e,"class","cell btn-icon variant-filled")},m(o,s){p(o,e,s),n||(l=R(e,"click",t),n=!0)},p(o,s){r=o},d(o){o&&h(e),n=!1,l()}}}function Oe(r){let e,n,l,t,o;const s=[Ie,Fe],i=[];function a(f,_){return f[0]?1:0}return l=a(r),t=i[l]=s[l](r),{c(){e=B("div"),n=B("div"),t.c(),this.h()},l(f){e=E(f,"DIV",{class:!0});var _=N(e);n=E(_,"DIV",{class:!0});var m=N(n);t.l(m),m.forEach(h),_.forEach(h),this.h()},h(){w(n,"class","grid grid-cols-10 grid-rows-10 p-5 flex-1 max-w-5xl"),w(e,"class","h-screen flex justify-center items-center")},m(f,_){p(f,e,_),H(e,n),i[l].m(n,null),o=!0},p(f,[_]){let m=l;l=a(f),l===m?i[l].p(f,_):(L(),g(i[m],1,1,()=>{i[m]=null}),K(),t=i[l],t?t.p(f,_):(t=i[l]=s[l](f),t.c()),b(t,1),t.m(n,null))},i(f){o||(b(t),o=!0)},o(f){g(t),o=!1},d(f){f&&h(e),i[l].d()}}}function Pe(r,e,n){let l=!1,t=new ge;function o(c){t.generateFullBoard(c),n(0,l=!0)}function s(c){t.reveal(c);const u=t.isSweeped();console.log(u),n(1,t)}function i(c){t.placeFlag(c),n(1,t)}return[l,t,o,s,i,c=>o(c.pos),c=>i(c.pos),c=>i(c.pos),c=>s(c.pos)]}class qe extends F{constructor(e){super(),I(this,e,Pe,Oe,j,{})}}export{qe as component};
